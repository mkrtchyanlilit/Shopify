(this.webpackJsonpshopify=this.webpackJsonpshopify||[]).push([[0],{129:function(e,t,n){"use strict";n.r(t);var a=n(23),r=n.n(a),c=(n(86),n(6)),s=n.n(c),i=n(15),o=n(29),l=n(42),u=n.n(l),d={key:"auth",storage:u.a,whitelist:["user"]},j={key:"shop",storage:u.a,whitelist:["favorites"]},p=n(2),O={TOGGLE_APP_LOADER:"common/TOGGLE_APP_LOADER",SET_GLOBAL_ERROR_MESSAGE:"common/SET_GLOBAL_ERROR_MESSAGE"},b={appIsLoading:!1,globalErrorMessage:""},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case O.TOGGLE_APP_LOADER:return Object(p.a)(Object(p.a)({},e),{},{appIsLoading:a});case O.SET_GLOBAL_ERROR_MESSAGE:return Object(p.a)(Object(p.a)({},e),{},{globalErrorMessage:a});default:return e}},h={GET_CATEGORIES_ASYNC_START:"shop/GET_CATEGORIES_ASYNC_START",GET_CATEGORIES_ASYNC_SUCCESS:"shop/GET_CATEGORIES_ASYNC_SUCCESS",GET_CATEGORIES_ASYNC_FAILURE:"shop/GET_CATEGORIES_ASYNC_FAILURE",GET_SHOP_DATA_ASYNC_START:"shop/GET_SHOP_DATA_ASYNC_START",GET_SHOP_DATA_ASYNC_SUCCESS:"shop/GET_SHOP_DATA_ASYNC_SUCCESS",GET_SHOP_DATA_ASYNC_FAILURE:"shop/GET_SHOP_DATA_ASYNC_FAILURE",ADD_TO_FAVORITES:"shop/ADD_TO_FAVORITES",DECREASE_FAVORITES_ITEM_COUNT:"shop/DECREASE_FAVORITES_ITEM_COUNT",DELETE_FROM_FAVORITES:"shop/DELETE_FROM_FAVORITES",SET_MODAL_STATE:"shop/SET_MODAL_STATE"},m=n(32),f=function(e,t){var n=Object(m.a)(e),a=n.findIndex((function(e){return e.id===t.id}));if(a>-1){var r=Object(p.a)({},n[a]);return r.count+=1,n[a]=r,n}return[].concat(Object(m.a)(e),[Object(p.a)(Object(p.a)({},t),{},{count:1})])},g=function(e,t){var n=Object(m.a)(e),a=n.findIndex((function(e){return e.id===t.id})),r=Object(p.a)({},n[a]);return 1===r.count?(n.splice(a,1),n):(r.count-=1,n[a]=r,n)},E=function(e,t){var n=Object(m.a)(e),a=n.findIndex((function(e){return e.id===t.id}));return n.splice(a,1),n},S={favorites:[],categories:[],shopData:[],modalIsShown:!1,errorMessage:"",isLoading:!1,shopIsLoading:!1},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case h.GET_CATEGORIES_ASYNC_START:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0});case h.GET_CATEGORIES_ASYNC_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1,categories:a});case h.GET_CATEGORIES_ASYNC_FAILURE:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1,errorMessage:a});case h.GET_SHOP_DATA_ASYNC_START:return Object(p.a)(Object(p.a)({},e),{},{shopIsLoading:!0});case h.GET_SHOP_DATA_ASYNC_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{shopIsLoading:!1,shopData:a});case h.GET_SHOP_DATA_ASYNC_FAILURE:return Object(p.a)(Object(p.a)({},e),{},{shopIsLoading:!1,errorMessage:a});case h.UPDATE_FAVORITES:return Object(p.a)(Object(p.a)({},e),{},{favorites:a});case h.ADD_TO_FAVORITES:return Object(p.a)(Object(p.a)({},e),{},{favorites:f(e.favorites,a)});case h.DECREASE_FAVORITES_ITEM_COUNT:return Object(p.a)(Object(p.a)({},e),{},{favorites:g(e.favorites,a)});case h.DELETE_FROM_FAVORITES:return Object(p.a)(Object(p.a)({},e),{},{favorites:E(e.favorites,a)});case h.SET_MODAL_STATE:return Object(p.a)(Object(p.a)({},e),{},{modalIsShown:a});default:return e}},v={CLEAR_USER_DATA:"auth/CLEAR_USER_DATA",USER_SIGNIN_ASYNC_START:"auth/USER_SIGNIN_ASYNC_START",USER_SIGNIN_ASYNC_SUCCESS:"auth/USER_SIGNIN_ASYNC_SUCCESS",USER_SIGNIN_ASYNC_FAILURE:"auth/USER_SIGNIN_ASYNC_FAILURE"},A={user:null,isLoading:!1,errorMessage:""},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case v.USER_SIGNIN_ASYNC_START:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0});case v.USER_SIGNIN_ASYNC_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{user:a,isLoading:!1});case v.USER_SIGNIN_ASYNC_FAILURE:return Object(p.a)(Object(p.a)({},e),{},{errorMessage:a,isLoading:!1});case v.CLEAR_USER_DATA:return A;default:return e}},N=Object(i.combineReducers)({common:_,shop:Object(o.a)(j,x),auth:Object(o.a)(d,T)}),C=n(62),y=n(63),I=n(64),R=(Object(y.createLogger)({collapsed:!0}),[C.a]);var w=Object(i.createStore)(N,Object(I.composeWithDevTools)(i.applyMiddleware.apply(void 0,R))),L=Object(o.b)(w);s.a.defaults.baseURL="https://ns-shopify.herokuapp.com/api/v1/",s.a.interceptors.request.use((function(e){var t,n=null===(t=w.getState().auth.user)||void 0===t?void 0:t.token;return n&&(e.headers.Authorization="Bearer ".concat(n)),e})),s.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));s.a;var G,U,D=n(14),k=n(18),M=n(5),P=n(3),Y=n(1),F=n(65),V=n.n(F),H=function(e){for(var t=0,n=0;n<e.length;n++){t+=e[n].count}return t},W=["title","titleId"];function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function q(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z(e,t){var n=e.title,a=e.titleId,r=q(e,W);return Y.createElement("svg",B({width:"50px",height:"39px",viewBox:"0 0 50 39",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":a},r),n?Y.createElement("title",{id:a},n):null,G||(G=Y.createElement("desc",null,"Created with Sketch.")),U||(U=Y.createElement("g",{id:"WiP",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Y.createElement("g",{id:"Artboard",transform:"translate(-90.000000, -38.000000)"},Y.createElement("g",{id:"Group",transform:"translate(90.000000, 38.000000)"},Y.createElement("polygon",{id:"Rectangle",fill:"#808282",points:"3 14 25 26.5 47 14 40.855176 39 9.08421785 39"}),Y.createElement("polygon",{id:"Triangle",fillOpacity:.262838724,fill:"#101A1A",points:"25 8 40 39 10 39"}),Y.createElement("circle",{id:"Oval",fill:"#5E6363",cx:2,cy:9,r:2}),Y.createElement("circle",{id:"Oval",fill:"#5E6363",cx:25,cy:2,r:2}),Y.createElement("circle",{id:"Oval",fill:"#5E6363",cx:48,cy:9,r:2}))))))}var X,J,Q,K,Z,$,ee,te,ne,ae,re,ce,se,ie,oe,le=Y.forwardRef(z),ue=(n.p,["title","titleId"]);function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function je(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pe(e,t){var n=e.title,a=e.titleId,r=je(e,ue);return Y.createElement("svg",de({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 407.453 407.453",style:{enableBackground:"new 0 0 407.453 407.453"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},r),n?Y.createElement("title",{id:a},n):null,Y.createElement("g",null,Y.createElement("path",{style:{fill:"#010002"},d:"M255.099,116.515c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H143.486 c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129H255.099z"}),Y.createElement("path",{style:{fill:"#010002"},d:"M367.062,100.258H311.69c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129h47.243 v274.681H48.519V116.515h44.536c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H40.391 c-4.487,0-8.129,3.633-8.129,8.129v290.938c0,4.495,3.642,8.129,8.129,8.129h326.671c4.487,0,8.129-3.633,8.129-8.129V108.386 C375.191,103.891,371.557,100.258,367.062,100.258z"}),Y.createElement("path",{style:{fill:"#010002"},d:"M282.59,134.796c4.487,0,8.129-3.633,8.129-8.129V67.394C290.718,30.238,250.604,0,201.101,0 c-49.308,0-89.414,30.238-89.414,67.394v59.274c0,4.495,3.642,8.129,8.129,8.129s8.129-3.633,8.129-8.129V67.394 c0-28.198,32.823-51.137,73.36-51.137c40.334,0,73.157,22.939,73.157,51.137v59.274 C274.461,131.163,278.095,134.796,282.59,134.796z"}),Y.createElement("path",{style:{fill:"#010002"},d:"M98.892,147.566c0,11.526,9.389,20.907,20.923,20.907c11.534,0,20.923-9.38,20.923-20.907 c0-4.495-3.642-8.129-8.129-8.129s-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.569,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129S98.892,143.071,98.892,147.566z"}),Y.createElement("path",{style:{fill:"#010002"},d:"M282.59,168.473c11.534,0,20.923-9.38,20.923-20.907c0-4.495-3.642-8.129-8.129-8.129 c-4.487,0-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.577,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129c-4.487,0-8.129,3.633-8.129,8.129C261.667,159.092,271.055,168.473,282.59,168.473z"})),X||(X=Y.createElement("g",null)),J||(J=Y.createElement("g",null)),Q||(Q=Y.createElement("g",null)),K||(K=Y.createElement("g",null)),Z||(Z=Y.createElement("g",null)),$||($=Y.createElement("g",null)),ee||(ee=Y.createElement("g",null)),te||(te=Y.createElement("g",null)),ne||(ne=Y.createElement("g",null)),ae||(ae=Y.createElement("g",null)),re||(re=Y.createElement("g",null)),ce||(ce=Y.createElement("g",null)),se||(se=Y.createElement("g",null)),ie||(ie=Y.createElement("g",null)),oe||(oe=Y.createElement("g",null)))}var Oe,be=Y.forwardRef(pe),_e=(n.p,n(24)),he=n(66),me=n.n(he),fe=n(0),ge=["children","type","isLoading","disabled"],Ee=function(e){var t=e.children,n=e.type,a=void 0===n?"button":n,r=e.isLoading,c=e.disabled,s=Object(_e.a)(e,ge);return Object(fe.jsx)("button",Object(p.a)(Object(p.a)({className:me.a.btn,type:a,disabled:r||c},s),{},{children:r?"Loading...":t}))},Se=n(25),xe=n.n(Se),ve=Object(P.b)((function(e){return{shopItems:e.shop.favorites}}))((function(e){var t=e.shopItems,n=e.toggleCartDropdown,a=Object(M.g)();return Object(fe.jsx)("div",{className:xe.a.container,children:t.length?Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{className:xe.a.itemsWrapper,children:t.map((function(e){return Object(fe.jsxs)("div",{className:xe.a.cartItem,children:[Object(fe.jsx)("img",{className:xe.a.image,src:e.imageUrl,alt:"cart-item"}),Object(fe.jsxs)("div",{children:[Object(fe.jsx)("div",{children:e.name}),Object(fe.jsxs)("div",{children:[e.count," X $",e.price]})]})]},e._id)}))}),Object(fe.jsx)(Ee,{onClick:function(){a.push("/checkout"),n()},children:"Go to checkout"})]}):Object(fe.jsx)("div",{className:xe.a.emptyWrapper,children:Object(fe.jsx)("div",{children:"Empty"})})})})),Ae=n(9),Te=n.n(Ae),Ne=n(17),Ce={getUser:function(e){return s.a.post("auth/login",e)}},ye=function(e){return function(){var t=Object(Ne.a)(Te.a.mark((function t(n){var a,r;return Te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:v.USER_SIGNIN_ASYNC_START}),t.prev=1,t.next=4,Ce.getUser(e);case 4:return a=t.sent,r=a.data.data,n({type:v.USER_SIGNIN_ASYNC_SUCCESS,payload:r}),t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t.catch(1),n((c=t.t0.message,{type:v.USER_SIGNIN_ASYNC_FAILURE,payload:c})),t.abrupt("return",!1);case 14:case"end":return t.stop()}var c}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},Ie=n(16),Re=n.n(Ie),we={clearUserData:function(){return{type:v.CLEAR_USER_DATA}}},Le=Object(P.b)((function(e){return{shopItemsCount:H(e.shop.favorites),user:e.auth.user}}),we)((function(e){var t=e.shopItemsCount,n=e.user,a=e.clearUserData,r=Object(M.g)(),c=Object(Y.useState)(!1),s=Object(k.a)(c,2),i=s[0],o=s[1],l=function(){return o(!i)};return Object(fe.jsxs)("header",{className:Re.a.container,children:[Object(fe.jsx)(le,{className:"u-cursor--pointer",onClick:function(){return r.push("/home")}}),Object(fe.jsxs)("nav",{className:Re.a.nav,children:[Object(fe.jsx)(D.b,{to:"/shop",className:Re.a.link,children:"SHOP"}),Object(fe.jsx)(D.b,{to:"/contacts",className:Re.a.link,children:"CONTACTS"}),Object(fe.jsx)("div",{className:Re.a.link,onClick:function(){n?a():r.push("/auth")},children:n?"SIGN OUT":"SIGN IN"}),n&&Object(fe.jsx)(V.a,{disabled:!i,onOutsideClick:l,children:Object(fe.jsxs)("div",{className:Re.a.item,children:[Object(fe.jsxs)("div",{className:Re.a.cart,onClick:l,children:[Object(fe.jsx)(be,{className:Re.a.bag}),!!t&&Object(fe.jsx)("span",{className:Re.a.count,children:t})]}),i&&Object(fe.jsx)(ve,{toggleCartDropdown:l})]})})]})]})})),Ge=n(35),Ue=n.n(Ge),De=Object(Y.createContext)(),ke=n(26),Me=n.n(ke),Pe=function(e){var t=e.category,n=Object(Y.useContext)(De),a=n.trackNum,r=n.setTrackNum,c=n.name,s=Object(M.g)();console.log(c);return console.log(a),Object(fe.jsx)("li",{className:Me.a.container,onClick:function(){r(a+1),s.push("/shop/".concat(t.routeName))},children:Object(fe.jsxs)("div",{className:Me.a.wrapper,children:[Object(fe.jsx)("div",{className:Me.a.image,style:{backgroundImage:"url(".concat(t.imageUrl,")")}}),Object(fe.jsxs)("div",{className:Me.a.content,children:[Object(fe.jsx)("div",{className:Me.a.title,children:t.title}),Object(fe.jsx)("div",{className:"u-uppercase",children:"shop now"})]})]})})},Ye=n(67),Fe=n.n(Ye),Ve=n(68),He=n.n(Ve),We=function(){return Object(fe.jsx)("div",{className:He.a.container})},Be=n(69),qe=n.n(Be),ze=function(e){var t=e.children;return e.isLoading?Object(fe.jsx)("div",{className:qe.a.container,children:Object(fe.jsx)(We,{})}):t},Xe=function(e){var t=Object(P.d)((function(e){return e.shop})),n=t.isLoading,a=t.categories;return Object(fe.jsx)(ze,{isLoading:n,children:Object(fe.jsx)("ul",{className:Fe.a.container,children:a.map((function(e){return Object(fe.jsx)(Pe,{category:e},e._id)}))})})},Je=n(70),Qe=n.n(Je),Ke=n(7),Ze=n(20),$e=n.n(Ze),et=n(30),tt=n.n(et),nt=["label","value"],at=function(e){var t,n=e.label,a=e.value,r=void 0===a?"":a,c=Object(_e.a)(e,nt),s=Object(Y.useRef)(),i=$e()((t={},Object(Ke.a)(t,tt.a.label,!0),Object(Ke.a)(t,tt.a.active,r),t));return Object(fe.jsxs)("div",{className:tt.a.container,children:[Object(fe.jsx)("input",Object(p.a)(Object(p.a)({className:tt.a.input,value:r},c),{},{ref:s})),Object(fe.jsx)("label",{className:i,onClick:function(e){s.current.focus()},children:n})]})},rt=function(){var e=Object(Y.useState)({}),t=Object(k.a)(e,2),n=t[0],a=t[1];return{handleInput:function(e){var t=e.target,r=t.value,c=t.name;a(Object(p.a)(Object(p.a)({},n),{},Object(Ke.a)({},c,r)))},inputState:n,setInputState:a}},ct=function(){var e=rt(),t=e.handleInput,n=e.inputState,a=Object(P.d)((function(e){return{errorMessage:e.auth.errorMessage,isLoading:e.auth.isLoading}})),r=a.errorMessage,c=a.isLoading,s=Object(P.c)(),i=Object(M.g)(),o=function(){var e=Object(Ne.a)(Te.a.mark((function e(t){return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,s(ye(n));case 3:e.sent&&i.push("/shop");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(fe.jsxs)("form",{onSubmit:o,children:[Object(fe.jsx)("h1",{children:"I already have an account"}),Object(fe.jsx)("p",{children:"Sign in with your email and password"}),Object(fe.jsx)(at,{name:"email",type:"email",required:!0,label:"Email",onChange:t,value:n.email}),Object(fe.jsx)(at,{name:"password",type:"password",required:!0,label:"Password",value:n.password,onChange:t}),r&&Object(fe.jsx)("div",{className:"u-text--error",children:r}),Object(fe.jsx)(Ee,{type:"submit",isLoading:c,children:"Sign In"})]})},st=function(){var e=rt(),t=e.inputState,n=e.handleInput,a=function(){var e=Object(Ne.a)(Te.a.mark((function e(n){return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,s.a.post("auth/signup",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(fe.jsxs)("form",{onSubmit:a,children:[Object(fe.jsx)("h1",{children:"I do not have a account"}),Object(fe.jsx)("p",{children:"Sign up with your email and password"}),Object(fe.jsx)(at,{name:"name",label:"Display name",onChange:n,value:t.name,required:!0}),Object(fe.jsx)(at,{name:"email",type:"email",required:!0,label:"Email",value:t.email,onChange:n}),Object(fe.jsx)(at,{name:"password",type:"password",required:!0,label:"Password",value:t.password,onChange:n}),Object(fe.jsx)(at,{name:"passwordConfirm",type:"password",required:!0,label:"Confirm password",value:t.passwordConfirm,onChange:n}),Object(fe.jsx)(Ee,{type:"submit",children:"Sign Up"})]})},it=function(){return Object(fe.jsxs)("div",{className:Qe.a.container,children:[Object(fe.jsx)(ct,{}),Object(fe.jsx)(st,{})]})},ot={getCategories:function(){return s.a.get("categories")},getShopData:function(){return s.a.get("shop")}},lt=function(e){return{type:h.GET_CATEGORIES_ASYNC_SUCCESS,payload:e}},ut=function(e){return{type:h.ADD_TO_FAVORITES,payload:e}},dt=function(e){return{type:h.SET_MODAL_STATE,payload:e}},jt=n(36),pt=n.n(jt),Ot=n(27),bt=n.n(Ot),_t=Object(P.b)((function(e){return{user:e.auth.user}}))((function(e){var t=e.shopItem,n=e.user,a=Object(P.c)();return Object(fe.jsxs)("div",{className:bt.a.container,children:[Object(fe.jsxs)("div",{className:bt.a.imageWrapper,children:[Object(fe.jsx)("img",{className:bt.a.image,src:t.imageUrl,alt:""}),Object(fe.jsx)("button",{className:bt.a.btn,onClick:function(){a(n?ut(t):dt(!0))},children:"Add to cart"})]}),Object(fe.jsxs)("div",{className:bt.a.info,children:[Object(fe.jsx)("span",{children:t.name}),Object(fe.jsx)("span",{children:t.price})]})]})})),ht=function(e){var t,n=e.category,a=e.data,r=e.handleShopCategoryClick,c=$e()((t={},Object(Ke.a)(t,pt.a.title,!0),Object(Ke.a)(t,"u-cursor--pointer",!!r),t));return Object(fe.jsxs)("div",{className:pt.a.container,children:[Object(fe.jsx)("h1",{className:c,onClick:r,children:n}),Object(fe.jsx)("div",{className:pt.a.list,children:a.map((function(e){return Object(fe.jsx)(_t,{shopItem:e},e._id)}))})]})},mt=n(71),ft=n.n(mt),gt=function(e){var t=e.history,n=Object(P.c)(),a=Object(P.d)((function(e){return e.shop})),r=a.categories,c=a.isLoading,s=a.shopIsLoading,i=a.shopData;Object(Y.useEffect)((function(){n(function(){var e=Object(Ne.a)(Te.a.mark((function e(t){var n,a;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:h.GET_SHOP_DATA_ASYNC_START}),e.prev=1,e.next=4,ot.getShopData();case 4:n=e.sent,a=n.data,t({type:h.GET_SHOP_DATA_ASYNC_SUCCESS,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t((r=e.t0.message,{type:h.GET_SHOP_DATA_ASYNC_FAILURE,payload:r}));case 12:case"end":return e.stop()}var r}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[n]);var o=r.map((function(e){return e.routeName}));return Object(fe.jsx)(ze,{isLoading:c||s,children:Object(fe.jsx)("div",{className:ft.a.container,children:o.map((function(e){var n=i.filter((function(t){return t.category===e}));return Object(fe.jsx)(ht,{category:e,data:n.slice(0,4),handleShopCategoryClick:function(){return function(e){t.push("/shop/".concat(e))}(e)}},e)}))})})},Et=function(e){var t=Object(P.c)(),n=Object(Y.useState)([]),a=Object(k.a)(n,2),r=a[0],c=a[1],i=Object(Y.useState)(!1),o=Object(k.a)(i,2),l=o[0],u=o[1],d=e.match.params.category;return Object(Y.useEffect)((function(){u(!0),s.a.get("shop/".concat(d)).then((function(e){c(e.data),u(!1)})).catch((function(e){var n;console.log(e.response),t((n=e.message,{type:O.SET_GLOBAL_ERROR_MESSAGE,payload:n}))}))}),[]),Object(fe.jsx)(ze,{isLoading:l,children:Object(fe.jsx)(ht,{category:d,data:r})})},St=n(72),xt=n.n(St),vt=function(){var e=Object(M.g)(),t=Object(P.c)();return Object(fe.jsxs)("div",{className:xt.a.content,children:[Object(fe.jsx)("h1",{children:"Oops, Please sign in first."}),Object(fe.jsx)("div",{children:Object(fe.jsx)(Ee,{onClick:function(){t(dt(!1)),e.push("/auth")},children:"Go to Auth"})}),Object(fe.jsx)(Ee,{onClick:function(){t(dt(!1))},children:"Close"})]})},At=function(e){var t=e.children,n=e.className,a=e.isOpen,c=e.handleModalClose,s=$e()(Object(Ke.a)({"ns-modal__overlay":!0},n,n));return a?r.a.createPortal(Object(fe.jsx)("div",{className:"ns-modal",onMouseDown:c,children:Object(fe.jsx)("div",{className:s,onMouseDown:function(e){return e.stopPropagation()},children:Object(fe.jsx)("div",{className:"wrapper",children:t})})}),document.getElementById("root")):null},Tt=["isOpen"],Nt=function(e){return function(t){var n=t.isOpen,a=Object(_e.a)(t,Tt);return n?Object(fe.jsx)(At,{isOpen:!0,handleModalClose:a.handleModalClose,children:Object(fe.jsx)(e,Object(p.a)({},a))}):null}},Ct=n(73),yt=n.n(Ct),It=Nt(vt),Rt=function(){var e=Object(P.d)((function(e){return e.shop})).modalIsShown,t=Object(P.c)();return Object(fe.jsxs)("div",{className:yt.a.container,children:[Object(fe.jsx)(M.b,{component:gt,exact:!0,path:"/shop"}),Object(fe.jsx)(M.b,{component:Et,path:"/shop/:category"}),Object(fe.jsx)(It,{isOpen:e,handleModalClose:function(){return t(dt(!1))}})]})},wt=n(37),Lt=n.n(wt),Gt=function(e){var t=Object(P.c)(),n=e.rowData;return Object(fe.jsxs)("tr",{className:Lt.a.container,children:[Object(fe.jsx)("td",{children:Object(fe.jsx)("img",{className:Lt.a.image,src:n.imageUrl,alt:""})}),Object(fe.jsx)("td",{children:Object(fe.jsx)("div",{children:n.name})}),Object(fe.jsx)("td",{children:Object(fe.jsxs)("div",{className:Lt.a.quantity,children:[Object(fe.jsx)("div",{onClick:function(){t({type:h.DECREASE_FAVORITES_ITEM_COUNT,payload:n})},className:"u-cursor--pointer",children:"<"}),Object(fe.jsx)("div",{children:n.count}),Object(fe.jsx)("div",{onClick:function(){t(ut(n))},className:"u-cursor--pointer",children:">"})]})}),Object(fe.jsx)("td",{children:Object(fe.jsx)("div",{children:n.price})}),Object(fe.jsx)("td",{children:Object(fe.jsx)("span",{className:"u-cursor--pointer",onClick:function(){return t({type:h.DELETE_FROM_FAVORITES,payload:n})},children:"X"})})]})},Ut=n(31),Dt=n.n(Ut),kt=function(e){for(var t=0,n=0;n<e.length;n++){t+=e[n].count*e[n].price}return t},Mt=n(74),Pt=n.n(Mt),Yt=n(75),Ft=n(76).a.div(Oe||(Oe=Object(Yt.a)(["\n  height: ","vmin;\n"])),(function(e){return e.height})),Vt=function(e){var t=e.children,n=e.height;return!!Object(P.d)((function(e){return e.shop.favorites})).length?t:Object(fe.jsx)(Ft,{height:n,className:Pt.a.container,children:Object(fe.jsx)("div",{children:"There is no selected items"})})},Ht=function(){var e=Object(P.d)((function(e){return e.shop.favorites}));return Object(fe.jsxs)("div",{className:Dt.a.container,children:[Object(fe.jsx)("h1",{children:"Process your checkout"}),Object(fe.jsxs)(Vt,{height:"35",message:"There is no selected items",hasData:e.length,children:[Object(fe.jsxs)("table",{className:Dt.a.table,children:[Object(fe.jsx)("thead",{children:Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("th",{children:"Product"}),Object(fe.jsx)("th",{children:"Description"}),Object(fe.jsx)("th",{children:"Quantity"}),Object(fe.jsx)("th",{children:"Price"}),Object(fe.jsx)("th",{children:"Remove"})]})}),Object(fe.jsx)("tbody",{children:e.map((function(e){return Object(fe.jsx)(Gt,{rowData:e})}))})]}),Object(fe.jsxs)("div",{className:Dt.a.bottom,children:[Object(fe.jsxs)("div",{className:Dt.a.total,children:["TOTAL: $",kt(e)]}),Object(fe.jsx)(Ee,{children:"Pay Now"})]})]})]})},Wt=function(){return Object(fe.jsx)("div",{children:Object(fe.jsx)("iframe",{title:"contacts",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3047.8069020078406!2d44.51343321488719!3d40.19111057725508!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x406abd218c0499f7%3A0x54165e8b3d0b54c3!2z0JrQsNGB0LrQsNC0!5e0!3m2!1sru!2s!4v1619191830233!5m2!1sru!2s",width:"100%",height:"350",loading:"lazy"})})},Bt=n(80),qt=n.n(Bt),zt=function(e){var t=e.errorMessage,n=e.children;return t?Object(fe.jsx)("div",{className:qt.a.container,children:t}):n},Xt=Object(P.b)((function(e){return{globalErrorMessage:e.common.globalErrorMessage}}))((function(e){var t=e.globalErrorMessage,n=Object(Y.useState)(1),a=Object(k.a)(n,2),r=a[0],c=a[1],s=Object(P.c)();return Object(Y.useEffect)((function(){s(function(){var e=Object(Ne.a)(Te.a.mark((function e(t){var n,a;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:h.GET_CATEGORIES_ASYNC_START}),e.prev=1,e.next=4,ot.getCategories();case 4:n=e.sent,a=n.data,t(lt(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t((r=e.t0.message,{type:h.GET_CATEGORIES_ASYNC_FAILURE,payload:r}));case 12:case"end":return e.stop()}var r}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[s]),Object(fe.jsx)(De.Provider,{value:{trackNum:r,setTrackNum:c},children:Object(fe.jsxs)("div",{className:Ue.a.container,children:[Object(fe.jsx)(Le,{}),Object(fe.jsx)("main",{className:Ue.a.main,children:Object(fe.jsx)("div",{className:Ue.a.pages,children:Object(fe.jsx)(zt,{errorMessage:t,children:Object(fe.jsxs)(M.d,{children:[Object(fe.jsx)(M.b,{component:Xe,path:"/home"}),Object(fe.jsx)(M.b,{component:it,path:"/auth"}),Object(fe.jsx)(M.b,{component:Rt,path:"/shop"}),Object(fe.jsx)(M.b,{component:Ht,path:"/checkout"}),Object(fe.jsx)(M.b,{component:Wt,path:"/contacts"}),Object(fe.jsx)(M.a,{exact:!0,from:"/",to:"/home"})]})})})})]})})})),Jt=n(81);r.a.render(Object(fe.jsxs)(P.a,{store:w,children:[Object(fe.jsxs)(Jt.a,{persistor:L,children:[Object(fe.jsx)(D.a,{children:Object(fe.jsx)(Xt,{})})," "]})," "]}),document.getElementById("root"))},16:function(e,t,n){e.exports={container:"header_container__3MUSX",nav:"header_nav__2WWqo",link:"header_link__36lGJ",item:"header_item__VoTRH",cart:"header_cart__3xbt2",bag:"header_bag__3J143",count:"header_count__2FK1h"}},25:function(e,t,n){e.exports={container:"cart-dropdown_container__8gwdg",itemsWrapper:"cart-dropdown_itemsWrapper__28JF9",cartItem:"cart-dropdown_cartItem__2NTY6",image:"cart-dropdown_image__3GEpz",emptyWrapper:"cart-dropdown_emptyWrapper__2-xaf"}},26:function(e,t,n){e.exports={container:"category-item_container__q10sc",wrapper:"category-item_wrapper__3d1Hi",content:"category-item_content__3JKXU",title:"category-item_title__1IgE6",image:"category-item_image__2BmiD"}},27:function(e,t,n){e.exports={container:"shop-item_container__1oNUl",info:"shop-item_info__2-uos",imageWrapper:"shop-item_imageWrapper__1xBIx",image:"shop-item_image__23k3c",btn:"shop-item_btn__LjRU1"}},30:function(e,t,n){e.exports={container:"input_container__FrwYy",input:"input_input__mfPBr",label:"input_label__CaYut",active:"input_active__1lDN5"}},31:function(e,t,n){e.exports={container:"checkout_container__3YFgr",table:"checkout_table__rgcvC",image:"checkout_image__tl5aK",bottom:"checkout_bottom__b6UXm",total:"checkout_total__6UuXQ"}},35:function(e,t,n){e.exports={container:"app_container__I_cYl",main:"app_main__5oqRj",pages:"app_pages__3Z2T9"}},36:function(e,t,n){e.exports={container:"shop-items_container__2ZUdS",title:"shop-items_title__1tyLc",list:"shop-items_list__5rRt5"}},37:function(e,t,n){e.exports={container:"table-row_container__2rjFb",quantity:"table-row_quantity__2NOQJ",image:"table-row_image__2kOlN"}},66:function(e,t,n){e.exports={btn:"button_btn__3TyQV"}},67:function(e,t,n){e.exports={container:"home_container__2PdlV"}},68:function(e,t,n){e.exports={container:"loader_container__1oavn",rotate:"loader_rotate__28TSP",dynamicAppearance:"loader_dynamicAppearance__1rLmf",dropdownExpand:"loader_dropdownExpand__3i4cl",moveRightToLeft:"loader_moveRightToLeft__sVAUX"}},69:function(e,t,n){e.exports={container:"wrapper-loader_container__3T61b"}},70:function(e,t,n){e.exports={container:"auth_container__1WGIP"}},71:function(e,t,n){e.exports={container:"shop-preview_container__2BUlD"}},72:function(e,t,n){e.exports={content:"shop-modal_content__deLtd"}},73:function(e,t,n){},74:function(e,t,n){e.exports={container:"empty-data-message_container__mWLK7"}},80:function(e,t,n){e.exports={container:"oops_container__r0QVS"}},86:function(e,t,n){}},[[129,1,2]]]);
//# sourceMappingURL=main.069e3d96.chunk.js.map